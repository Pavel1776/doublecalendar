{
    "sourceFile": "script.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 6,
            "patches": [
                {
                    "date": 1758096215850,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1758096414755,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,14 @@\n const months = [\n   { name: \"Сентябрь\", days: 30 },\n-  { name: \"Октябрь\", days: 31 }\n+  { name: \"Октябрь\", days: 31 },\n+  { name: \"Ноябрь\", days: 30 }\n ];\n \n const habits = [\n   { name: \"Подъём в 5:00\" },\n-  { name: \"Ложусь до 21:30\" }\n+  { name: \"Ложусь до 21:30\" },\n+  { name: \"Зарядка\" }\n ];\n \n const container = document.getElementById(\"calendars-container\");\n \n@@ -32,8 +34,11 @@\n \n     habits.forEach(habit => {\n       const habitDiv = document.createElement(\"div\");\n       habitDiv.classList.add(\"habit\");\n+      habitDiv.textContent = habit.name;\n+      habitDiv.title = habit.name;\n+\n       const storageKey = `${month.name}_${habit.name}`;\n       let habitDays = JSON.parse(localStorage.getItem(storageKey)) || {};\n \n       // Восстанавливаем состояние\n"
                },
                {
                    "date": 1758096704301,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,69 +1,35 @@\n-const months = [\n-  { name: \"Сентябрь\", days: 30 },\n-  { name: \"Октябрь\", days: 31 },\n-  { name: \"Ноябрь\", days: 30 }\n-];\n+const calendar = document.getElementById(\"calendar\");\n+const daysInSeptember = 30;\n \n-const habits = [\n-  { name: \"Подъём в 5:00\" },\n-  { name: \"Ложусь до 21:30\" },\n-  { name: \"Зарядка\" }\n-];\n+// Загружаем отмеченные дни из localStorage\n+let dayStatus = JSON.parse(localStorage.getItem(\"dayStatus\")) || {};\n \n-const container = document.getElementById(\"calendars-container\");\n+for (let i = 1; i <= daysInSeptember; i++) {\n+  const day = document.createElement(\"div\");\n+  day.classList.add(\"day\");\n+  day.textContent = i;\n \n-months.forEach(month => {\n-  const monthContainer = document.createElement(\"div\");\n-  monthContainer.classList.add(\"calendar-container\");\n+  // Восстанавливаем статус дня\n+  if (dayStatus[i] === \"success\") day.classList.add(\"success\");\n+  if (dayStatus[i] === \"fail\") day.classList.add(\"fail\");\n \n-  const title = document.createElement(\"h2\");\n-  title.textContent = month.name;\n-  title.classList.add(\"calendar-title\");\n-  monthContainer.appendChild(title);\n+  // Клик — переключение: пусто → success → fail → пусто\n+  day.addEventListener(\"click\", () => {\n+    if (day.classList.contains(\"success\")) {\n+      day.classList.remove(\"success\");\n+      day.classList.add(\"fail\");\n+      dayStatus[i] = \"fail\";\n+    } else if (day.classList.contains(\"fail\")) {\n+      day.classList.remove(\"fail\");\n+      delete dayStatus[i];\n+    } else {\n+      day.classList.add(\"success\");\n+      dayStatus[i] = \"success\";\n+    }\n \n-  const calendarDiv = document.createElement(\"div\");\n-  calendarDiv.classList.add(\"calendar\");\n-  monthContainer.appendChild(calendarDiv);\n+    // Сохраняем в localStorage\n+    localStorage.setItem(\"dayStatus\", JSON.stringify(dayStatus));\n+  });\n \n-  container.appendChild(monthContainer);\n-\n-  for (let dayNum = 1; dayNum <= month.days; dayNum++) {\n-    const day = document.createElement(\"div\");\n-    day.classList.add(\"day\");\n-    day.textContent = dayNum;\n-\n-    habits.forEach(habit => {\n-      const habitDiv = document.createElement(\"div\");\n-      habitDiv.classList.add(\"habit\");\n-      habitDiv.textContent = habit.name;\n-      habitDiv.title = habit.name;\n-\n-      const storageKey = `${month.name}_${habit.name}`;\n-      let habitDays = JSON.parse(localStorage.getItem(storageKey)) || {};\n-\n-      // Восстанавливаем состояние\n-      if (habitDays[dayNum] === \"success\") habitDiv.classList.add(\"success\");\n-      if (habitDays[dayNum] === \"fail\") habitDiv.classList.add(\"fail\");\n-\n-      // Клик — переключение: пусто → success → fail → пусто\n-      habitDiv.addEventListener(\"click\", () => {\n-        if (habitDiv.classList.contains(\"success\")) {\n-          habitDiv.classList.remove(\"success\");\n-          habitDiv.classList.add(\"fail\");\n-          habitDays[dayNum] = \"fail\";\n-        } else if (habitDiv.classList.contains(\"fail\")) {\n-          habitDiv.classList.remove(\"fail\");\n-          delete habitDays[dayNum];\n-        } else {\n-          habitDiv.classList.add(\"success\");\n-          habitDays[dayNum] = \"success\";\n-        }\n-        localStorage.setItem(storageKey, JSON.stringify(habitDays));\n-      });\n-\n-      day.appendChild(habitDiv);\n-    });\n-\n-    calendarDiv.appendChild(day);\n-  }\n-});\n+  calendar.appendChild(day);\n+}\n"
                },
                {
                    "date": 1758121469809,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,35 +1,63 @@\n-const calendar = document.getElementById(\"calendar\");\n const daysInSeptember = 30;\n \n-// Загружаем отмеченные дни из localStorage\n-let dayStatus = JSON.parse(localStorage.getItem(\"dayStatus\")) || {};\n+// ---------------------- Календарь подъём в 5:00 ----------------------\n+const morningCalendar = document.getElementById(\"calendar-morning\");\n+let morningStatus = JSON.parse(localStorage.getItem(\"morningStatus\")) || {};\n \n for (let i = 1; i <= daysInSeptember; i++) {\n   const day = document.createElement(\"div\");\n   day.classList.add(\"day\");\n   day.textContent = i;\n \n-  // Восстанавливаем статус дня\n-  if (dayStatus[i] === \"success\") day.classList.add(\"success\");\n-  if (dayStatus[i] === \"fail\") day.classList.add(\"fail\");\n+  if (morningStatus[i] === \"success\") day.classList.add(\"success\");\n+  if (morningStatus[i] === \"fail\") day.classList.add(\"fail\");\n \n-  // Клик — переключение: пусто → success → fail → пусто\n   day.addEventListener(\"click\", () => {\n     if (day.classList.contains(\"success\")) {\n       day.classList.remove(\"success\");\n       day.classList.add(\"fail\");\n-      dayStatus[i] = \"fail\";\n+      morningStatus[i] = \"fail\";\n     } else if (day.classList.contains(\"fail\")) {\n       day.classList.remove(\"fail\");\n-      delete dayStatus[i];\n+      delete morningStatus[i];\n     } else {\n       day.classList.add(\"success\");\n-      dayStatus[i] = \"success\";\n+      morningStatus[i] = \"success\";\n     }\n \n-    // Сохраняем в localStorage\n-    localStorage.setItem(\"dayStatus\", JSON.stringify(dayStatus));\n+    localStorage.setItem(\"morningStatus\", JSON.stringify(morningStatus));\n   });\n \n-  calendar.appendChild(day);\n+  morningCalendar.appendChild(day);\n }\n+\n+// ---------------------- Календарь ложусь до 21:30 ----------------------\n+const bedtimeCalendar = document.getElementById(\"calendar-bedtime\");\n+let bedtimeStatus = JSON.parse(localStorage.getItem(\"bedtimeStatus\")) || {};\n+\n+for (let i = 1; i <= daysInSeptember; i++) {\n+  const day = document.createElement(\"div\");\n+  day.classList.add(\"day\");\n+  day.textContent = i;\n+\n+  if (bedtimeStatus[i] === \"success\") day.classList.add(\"success\");\n+  if (bedtimeStatus[i] === \"fail\") day.classList.add(\"fail\");\n+\n+  day.addEventListener(\"click\", () => {\n+    if (day.classList.contains(\"success\")) {\n+      day.classList.remove(\"success\");\n+      day.classList.add(\"fail\");\n+      bedtimeStatus[i] = \"fail\";\n+    } else if (day.classList.contains(\"fail\")) {\n+      day.classList.remove(\"fail\");\n+      delete bedtimeStatus[i];\n+    } else {\n+      day.classList.add(\"success\");\n+      bedtimeStatus[i] = \"success\";\n+    }\n+\n+    localStorage.setItem(\"bedtimeStatus\", JSON.stringify(bedtimeStatus));\n+  });\n+\n+  bedtimeCalendar.appendChild(day);\n+}\n"
                },
                {
                    "date": 1758121753023,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,63 +1,40 @@\n const daysInSeptember = 30;\n \n-// ---------------------- Календарь подъём в 5:00 ----------------------\n-const morningCalendar = document.getElementById(\"calendar-morning\");\n-let morningStatus = JSON.parse(localStorage.getItem(\"morningStatus\")) || {};\n+// Отдельные массивы для каждого календаря\n+let crossedDays1 = JSON.parse(localStorage.getItem(\"crossedDays1\")) || [];\n+let crossedDays2 = JSON.parse(localStorage.getItem(\"crossedDays2\")) || [];\n \n-for (let i = 1; i <= daysInSeptember; i++) {\n-  const day = document.createElement(\"div\");\n-  day.classList.add(\"day\");\n-  day.textContent = i;\n+// Функция для отрисовки календаря\n+function renderCalendar(containerId, crossedDays, storageKey, crossClass) {\n+  const calendar = document.getElementById(containerId);\n \n-  if (morningStatus[i] === \"success\") day.classList.add(\"success\");\n-  if (morningStatus[i] === \"fail\") day.classList.add(\"fail\");\n+  for (let i = 1; i <= daysInSeptember; i++) {\n+    const day = document.createElement(\"div\");\n+    day.classList.add(\"day\");\n+    day.textContent = i;\n \n-  day.addEventListener(\"click\", () => {\n-    if (day.classList.contains(\"success\")) {\n-      day.classList.remove(\"success\");\n-      day.classList.add(\"fail\");\n-      morningStatus[i] = \"fail\";\n-    } else if (day.classList.contains(\"fail\")) {\n-      day.classList.remove(\"fail\");\n-      delete morningStatus[i];\n-    } else {\n-      day.classList.add(\"success\");\n-      morningStatus[i] = \"success\";\n+    if (crossedDays.includes(i)) {\n+      day.classList.add(crossClass);\n     }\n \n-    localStorage.setItem(\"morningStatus\", JSON.stringify(morningStatus));\n-  });\n+    day.addEventListener(\"click\", () => {\n+      day.classList.toggle(crossClass);\n \n-  morningCalendar.appendChild(day);\n-}\n+      if (day.classList.contains(crossClass)) {\n+        crossedDays.push(i);\n+      } else {\n+        crossedDays = crossedDays.filter(d => d !== i);\n+      }\n \n-// ---------------------- Календарь ложусь до 21:30 ----------------------\n-const bedtimeCalendar = document.getElementById(\"calendar-bedtime\");\n-let bedtimeStatus = JSON.parse(localStorage.getItem(\"bedtimeStatus\")) || {};\n+      localStorage.setItem(storageKey, JSON.stringify(crossedDays));\n+    });\n \n-for (let i = 1; i <= daysInSeptember; i++) {\n-  const day = document.createElement(\"div\");\n-  day.classList.add(\"day\");\n-  day.textContent = i;\n+    calendar.appendChild(day);\n+  }\n+}\n \n-  if (bedtimeStatus[i] === \"success\") day.classList.add(\"success\");\n-  if (bedtimeStatus[i] === \"fail\") day.classList.add(\"fail\");\n+// Первый календарь (крестики)\n+renderCalendar(\"calendar1\", crossedDays1, \"crossedDays1\", \"crossed\");\n \n-  day.addEventListener(\"click\", () => {\n-    if (day.classList.contains(\"success\")) {\n-      day.classList.remove(\"success\");\n-      day.classList.add(\"fail\");\n-      bedtimeStatus[i] = \"fail\";\n-    } else if (day.classList.contains(\"fail\")) {\n-      day.classList.remove(\"fail\");\n-      delete bedtimeStatus[i];\n-    } else {\n-      day.classList.add(\"success\");\n-      bedtimeStatus[i] = \"success\";\n-    }\n-\n-    localStorage.setItem(\"bedtimeStatus\", JSON.stringify(bedtimeStatus));\n-  });\n-\n-  bedtimeCalendar.appendChild(day);\n-}\n+// Второй календарь (галочки)\n+renderCalendar(\"calendar2\", crossedDays2, \"crossedDays2\", \"success\");\n"
                },
                {
                    "date": 1758122091213,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,40 +1,49 @@\n const daysInSeptember = 30;\n \n-// Отдельные массивы для каждого календаря\n-let crossedDays1 = JSON.parse(localStorage.getItem(\"crossedDays1\")) || [];\n-let crossedDays2 = JSON.parse(localStorage.getItem(\"crossedDays2\")) || [];\n-\n-// Функция для отрисовки календаря\n-function renderCalendar(containerId, crossedDays, storageKey, crossClass) {\n+/**\n+ * Рисует календарь в контейнере containerId.\n+ * Каждый день хранит статус в localStorage под ключом storageKey:\n+ * объект { \"1\": \"success\", \"2\": \"fail\", ... }\n+ */\n+function renderCalendar(containerId, storageKey) {\n   const calendar = document.getElementById(containerId);\n+  if (!calendar) return;\n \n+  // Загружаем статус (объект)\n+  let dayStatus = JSON.parse(localStorage.getItem(storageKey)) || {};\n+\n+  // Отрисовываем дни\n   for (let i = 1; i <= daysInSeptember; i++) {\n     const day = document.createElement(\"div\");\n     day.classList.add(\"day\");\n     day.textContent = i;\n \n-    if (crossedDays.includes(i)) {\n-      day.classList.add(crossClass);\n-    }\n+    // Восстановить статус (если есть)\n+    if (dayStatus[i] === \"success\") day.classList.add(\"success\");\n+    if (dayStatus[i] === \"fail\") day.classList.add(\"fail\");\n \n+    // Клик: пусто -> success -> fail -> пусто\n     day.addEventListener(\"click\", () => {\n-      day.classList.toggle(crossClass);\n-\n-      if (day.classList.contains(crossClass)) {\n-        crossedDays.push(i);\n+      if (day.classList.contains(\"success\")) {\n+        day.classList.remove(\"success\");\n+        day.classList.add(\"fail\");\n+        dayStatus[i] = \"fail\";\n+      } else if (day.classList.contains(\"fail\")) {\n+        day.classList.remove(\"fail\");\n+        delete dayStatus[i];\n       } else {\n-        crossedDays = crossedDays.filter(d => d !== i);\n+        day.classList.add(\"success\");\n+        dayStatus[i] = \"success\";\n       }\n \n-      localStorage.setItem(storageKey, JSON.stringify(crossedDays));\n+      // Сохраняем обновлённый объект в localStorage\n+      localStorage.setItem(storageKey, JSON.stringify(dayStatus));\n     });\n \n     calendar.appendChild(day);\n   }\n }\n \n-// Первый календарь (крестики)\n-renderCalendar(\"calendar1\", crossedDays1, \"crossedDays1\", \"crossed\");\n-\n-// Второй календарь (галочки)\n-renderCalendar(\"calendar2\", crossedDays2, \"crossedDays2\", \"success\");\n+// Отрисовать оба календаря (разные ключи в localStorage)\n+renderCalendar(\"calendar1\", \"morningStatus\");\n+renderCalendar(\"calendar2\", \"bedtimeStatus\");\n"
                },
                {
                    "date": 1758166591001,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,4 +46,5 @@\n \n // Отрисовать оба календаря (разные ключи в localStorage)\n renderCalendar(\"calendar1\", \"morningStatus\");\n renderCalendar(\"calendar2\", \"bedtimeStatus\");\n+renderCalendar(\"calendar3\", \"bedtimeStatus\");\n"
                }
            ],
            "date": 1758096215850,
            "name": "Commit-0",
            "content": "const months = [\n  { name: \"Сентябрь\", days: 30 },\n  { name: \"Октябрь\", days: 31 }\n];\n\nconst habits = [\n  { name: \"Подъём в 5:00\" },\n  { name: \"Ложусь до 21:30\" }\n];\n\nconst container = document.getElementById(\"calendars-container\");\n\nmonths.forEach(month => {\n  const monthContainer = document.createElement(\"div\");\n  monthContainer.classList.add(\"calendar-container\");\n\n  const title = document.createElement(\"h2\");\n  title.textContent = month.name;\n  title.classList.add(\"calendar-title\");\n  monthContainer.appendChild(title);\n\n  const calendarDiv = document.createElement(\"div\");\n  calendarDiv.classList.add(\"calendar\");\n  monthContainer.appendChild(calendarDiv);\n\n  container.appendChild(monthContainer);\n\n  for (let dayNum = 1; dayNum <= month.days; dayNum++) {\n    const day = document.createElement(\"div\");\n    day.classList.add(\"day\");\n    day.textContent = dayNum;\n\n    habits.forEach(habit => {\n      const habitDiv = document.createElement(\"div\");\n      habitDiv.classList.add(\"habit\");\n      const storageKey = `${month.name}_${habit.name}`;\n      let habitDays = JSON.parse(localStorage.getItem(storageKey)) || {};\n\n      // Восстанавливаем состояние\n      if (habitDays[dayNum] === \"success\") habitDiv.classList.add(\"success\");\n      if (habitDays[dayNum] === \"fail\") habitDiv.classList.add(\"fail\");\n\n      // Клик — переключение: пусто → success → fail → пусто\n      habitDiv.addEventListener(\"click\", () => {\n        if (habitDiv.classList.contains(\"success\")) {\n          habitDiv.classList.remove(\"success\");\n          habitDiv.classList.add(\"fail\");\n          habitDays[dayNum] = \"fail\";\n        } else if (habitDiv.classList.contains(\"fail\")) {\n          habitDiv.classList.remove(\"fail\");\n          delete habitDays[dayNum];\n        } else {\n          habitDiv.classList.add(\"success\");\n          habitDays[dayNum] = \"success\";\n        }\n        localStorage.setItem(storageKey, JSON.stringify(habitDays));\n      });\n\n      day.appendChild(habitDiv);\n    });\n\n    calendarDiv.appendChild(day);\n  }\n});\n"
        }
    ]
}